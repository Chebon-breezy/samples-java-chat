<html>
<head>
  <title>CloudState chat sample app</title>
  <style>
    .chat {
      width: 400px;
      height: 400px;
      border: 1px solid gray;
      border-radius: 20px;
      padding: 10px;
      margin: 5px;
      float: left;
    }
    .chat iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

  </style>
</head>
<body>
<h1>CloudState Chat</h1>
<div id="chats">
  <div class="chat" id="new">
    Click to create a new chat window
  </div>
</div>
<script>
  var newDiv = document.getElementById("new");
  var chats = document.getElementById("chats");

  function openChat() {
    var chat = document.createElement("div");
    chat.className = "chat";
    var iframe = document.createElement("iframe");
    iframe.src = "window.html";
    chat.appendChild(iframe);
    chats.insertBefore(chat, newDiv);
  }

  newDiv.onclick = openChat;

  openChat();

</script>
</body>
</html>